
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.8">
    
    
      
        <title>Create a pipeline service - Shakudo Platform</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.6e60f8b8.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#create-a-service" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Shakudo Platform" class="md-header__button md-logo" aria-label="Shakudo Platform" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Shakudo Platform
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Create a pipeline service
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Shakudo Platform" class="md-nav__button md-logo" aria-label="Shakudo Platform" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Shakudo Platform
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Getting started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="api.html" class="md-nav__link">
        Hyperplane API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="sandbox.html" class="md-nav__link">
        Demo/sandbox walkthrough
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="example_notebooks.html" class="md-nav__link">
        Example notebooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="tutorials.html" class="md-nav__link">
        Tutorials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="faq.html" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Using ✈️ Shakudo Hyperplane
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Using ✈️ Shakudo Hyperplane" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Using ✈️ Shakudo Hyperplane
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="sessions.html" class="md-nav__link">
        Start a Jupyter instance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="create_pipeline.html" class="md-nav__link">
        Create a pipeline job
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="debug_jobs.html" class="md-nav__link">
        Debug a pipeline job
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Create a pipeline service
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="create_service.html" class="md-nav__link md-nav__link--active">
        Create a pipeline service
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-prepare-your-code" class="md-nav__link">
    1. Prepare your code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-create-a-pipeline-yaml" class="md-nav__link">
    2. Create a pipeline yaml
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-set-your-timeouts-to-1" class="md-nav__link">
    3. Set your timeouts to -1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-optional-expose-a-port" class="md-nav__link">
    4. (optional) Expose a port
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-optional-connecting-to-a-service" class="md-nav__link">
    5. (optional) Connecting to a service
  </a>
  
    <nav class="md-nav" aria-label="5. (optional) Connecting to a service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#importing-and-invoking-the-function" class="md-nav__link">
    Importing and invoking the function:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-value" class="md-nav__link">
    Return value:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="image_jobtype_packages.html" class="md-nav__link">
        Images and jobTypes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="graphql_queries.html" class="md-nav__link">
        Graphql query examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="dask_hyperplane.html" class="md-nav__link">
        Dask on Shakudo Platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ray_hyperplane.html" class="md-nav__link">
        Ray on Shakudo Platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="spark_hyperplane.html" class="md-nav__link">
        Spark on Shakudo Platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="frontend_tools.html" class="md-nav__link">
        Frontend on Shakudo Platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="nlp_hyperplane.html" class="md-nav__link">
        NLP on Shakudo Platform
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Advanced Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Advanced Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Dask
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Dask" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Dask
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="dask_concepts.html" class="md-nav__link">
        Working with Dask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="examples.html" class="md-nav__link">
        Dask optimization examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="common_issues.html" class="md-nav__link">
        Common issues
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="rapids_on_hyperplane.html" class="md-nav__link">
        RAPIDS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="sas_on_hyperplane.html" class="md-nav__link">
        SAS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="r_on_hyperplane.html" class="md-nav__link">
        R
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mlflow_on_hyperplane.md" class="md-nav__link">
        MLFlow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="triton_serving.html" class="md-nav__link">
        Triton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="crypto.html" class="md-nav__link">
        CCXT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="custom_secret.html" class="md-nav__link">
        Custom Secrets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="custom_images.html" class="md-nav__link">
        Custom Images
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="pullrequest.html" class="md-nav__link">
        Jupyterlab Pullrequests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="jwt.html" class="md-nav__link">
        Trigger Jobs anywhere
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="hyperplane_gql_queries.html" class="md-nav__link">
        Advanced Graphql queries
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Shakudo Platform Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Shakudo Platform Tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Shakudo Platform Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ssh_connection.html" class="md-nav__link">
        Connect to VSCode Remote
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="about.html" class="md-nav__link">
        About Shakudo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-prepare-your-code" class="md-nav__link">
    1. Prepare your code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-create-a-pipeline-yaml" class="md-nav__link">
    2. Create a pipeline yaml
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-set-your-timeouts-to-1" class="md-nav__link">
    3. Set your timeouts to -1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-optional-expose-a-port" class="md-nav__link">
    4. (optional) Expose a port
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-optional-connecting-to-a-service" class="md-nav__link">
    5. (optional) Connecting to a service
  </a>
  
    <nav class="md-nav" aria-label="5. (optional) Connecting to a service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#importing-and-invoking-the-function" class="md-nav__link">
    Importing and invoking the function:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-value" class="md-nav__link">
    Return value:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

<h1 id="create-a-service">Create a service<a class="headerlink" href="#create-a-service" title="Permanent link">&para;</a></h1>
<p>In contrast to regular pipeline jobs, which are batch jobs or a series of steps that run end-to-end, you can create jobs from never-ending notebooks or scripts as services. Rather than running in your cluster, you can trigger this to run similar to a pipeline job on Shakudo Platform to run a continuous loop without having to keep your cluster up or your notebook running.</p>
<h2 id="1-prepare-your-code">1. Prepare your code<a class="headerlink" href="#1-prepare-your-code" title="Permanent link">&para;</a></h2>
<p>Ensure your notebook or scripts can run without errors on your Jupyter instance. Alternatively, if you are using the pipeline to debug your runs, you can skip this step.</p>
<h2 id="2-create-a-pipeline-yaml">2. Create a pipeline yaml<a class="headerlink" href="#2-create-a-pipeline-yaml" title="Permanent link">&para;</a></h2>
<p>Create a .yaml file to list your steps. You can start with adding the following template to <code>example_pipeline.yaml</code>:  </p>
<div class="highlight"><pre><span></span><code>pipeline:
  name: &quot;Example pipeline&quot;
  tasks:
  - name: &quot;First step&quot;
    type: &quot;jupyter notebook&quot;
    notebook_path: &quot;neverending_notebook.ipynb&quot;
    notebook_output_path: &quot;neverending_notebook_output.ipynb&quot;
  - ...
</code></pre></div>
<p>You can replace the first step under <code>tasks</code> and add additional tasks following the same notation. </p>
<p>Add a Jupyter notebook step by adding the following block to your YAML:
<div class="highlight"><pre><span></span><code>  - name: &quot;[your_step_name]&quot;
    type: &quot;jupyter notebook&quot;
    notebook_path: &quot;[notebook/path/relative/to/top/level/of/repo.ipynb]&quot;
    notebook_output_path: &quot;[some/notebook_output_name.ipynb]&quot;
</code></pre></div></p>
<p>Add a Python/VSCode step by adding the following block to your yaml. The script should be runnable with <code>python [py_path]</code>:
<div class="highlight"><pre><span></span><code>  - name: &quot;[another_step_name]&quot;
    type: &quot;vscode notebook&quot;
    py_path: &quot;[py/file/relative/to/top/level/of/repo.py]&quot;
</code></pre></div></p>
<p>Add a Javascript step by adding the following block to your YAML. The script should be runnable with <code>node [js_path]</code>:
<div class="highlight"><pre><span></span><code>  - name: &quot;[another_step_name]&quot;
    type: &quot;js script&quot;
    js_path: &quot;[js/file/relative/to/top/level/of/repo.js]&quot;
</code></pre></div></p>
<p>Add a Bash script step by adding the following block to your YAML. The Bash script should be runnable with <code>bash [bash_script_path]</code>:
<div class="highlight"><pre><span></span><code>  - name: &quot;[another_step_name]&quot;
    type: &quot;bash script&quot;
    bash_script_path: &quot;[sh/file/relative/to/top/level/of/repo.sh]&quot;
</code></pre></div></p>
<h2 id="3-set-your-timeouts-to-1">3. Set your timeouts to -1<a class="headerlink" href="#3-set-your-timeouts-to-1" title="Permanent link">&para;</a></h2>
<p>Specify <code>activeTimeout</code> and <code>timeout</code> as -1 to indicate to Shakudo Platform that your job should not time out. </p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="err">mu</span><span class="kc">tat</span><span class="err">io</span><span class="kc">n</span><span class="w"> </span><span class="err">submi</span><span class="kc">t</span><span class="err">Model</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="err">crea</span><span class="kc">te</span><span class="err">Pipeli</span><span class="kc">ne</span><span class="err">Job</span><span class="w"> </span><span class="err">(da</span><span class="kc">ta</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="err">jobType</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;basic&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="err">ac</span><span class="kc">t</span><span class="err">iveTimeou</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="kc">t</span><span class="err">imeou</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="err">pipeli</span><span class="kc">ne</span><span class="err">YamlPa</span><span class="kc">t</span><span class="err">h</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;example_pipeline.yaml&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="err">parame</span><span class="kc">ters</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">crea</span><span class="kc">te</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="err">key</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;param1&quot;</span><span class="p">,</span><span class="w"> </span><span class="err">value</span><span class="p">:</span><span class="w">  </span><span class="s2">&quot;value1&quot;</span><span class="p">},</span><span class="w">   </span><span class="err">##</span><span class="w"> </span><span class="err">cha</span><span class="kc">n</span><span class="err">ge</span><span class="w"> </span><span class="kc">t</span><span class="err">hese</span><span class="w"> </span><span class="kc">f</span><span class="err">or</span><span class="w"> </span><span class="err">di</span><span class="kc">fferent</span><span class="w"> </span><span class="err">experime</span><span class="kc">nts</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="err">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">      </span><span class="err">id</span><span class="w"> </span>
<span class="w">      </span><span class="err">ru</span><span class="kc">n</span><span class="err">Id</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Alternatively, use the <strong>Services</strong> tab on the dashboard.
<img alt="services dashboard" src="images/services_tab.png" title="services dashboard" />
<img alt="create a service on dashboard" src="images/create_service.png" title="create a service on dashboard" /></p>
<h2 id="4-optional-expose-a-port">4. (optional) Expose a port<a class="headerlink" href="#4-optional-expose-a-port" title="Permanent link">&para;</a></h2>
<p>If your neverending script requires an exposed port, be sure to expose it on <strong>host 0.0.0.0, port 8787</strong>. Then, include an exposed port in the job submission. 
<img alt="expose port" src="images/expose_port.png" title="expose port" /></p>
<h2 id="5-optional-connecting-to-a-service">5. (optional) Connecting to a service<a class="headerlink" href="#5-optional-connecting-to-a-service" title="Permanent link">&para;</a></h2>
<p>Once your service is up and running you can connect to it from other jobs. To make this easier, Shakudo Platform's python package includes a helper function to find the current URL of any running service. Note that this is an internal URL and is only accessible from your other Shakudo Platform jobs - information regarding making a publicly accessible service <a href="frontend_tools.html">is available here</a>.</p>
<h3 id="importing-and-invoking-the-function">Importing and invoking the function:<a class="headerlink" href="#importing-and-invoking-the-function" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>from hyperplane import utils

URL_string = utils.get_service_url(name_or_id, input_type, check_exists, check_listening)
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">Argument</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>name_</code> <br /> <code>or_id</code></td>
<td align="left">string, <br /> required</td>
<td align="left">The name or ID of the service in question. Service names are assigned by the user at job creation. IDs are Shakudo Platform's internal job labels, and take the form of a string of hexadecimal characters and dashes.</td>
</tr>
<tr>
<td align="left"><code>input_</code> <br /> <code>type</code></td>
<td align="left">string, <br /> optional, <br /> defaults <br /> to <code>"auto"</code></td>
<td align="left">Specifies whether a name or ID has been supplied. Possible values:  <br /> <code>"auto"</code> -  function will automatically determine how to treat the input. <br /> <code>"name"</code> -  assume the input is a service name (useful if you have named your service with the ID of another job or service for some reason). <br /> <code>"id"</code> -  assume the input is a job ID. <br /> Any other string will fall back to auto-recognition.</td>
</tr>
<tr>
<td align="left"><code>check_</code> <br /> <code>exists</code></td>
<td align="left">boolean, <br /> optional, <br /> defaults <br /> to <code>True</code></td>
<td align="left">If <code>True</code> the function will query Shakudo Platform's job database to ensure the service is running. Will raise an error if the service is not found. This test is necessary if name_or_id is a service name, and in that case values of False will be ignored.</td>
</tr>
<tr>
<td align="left"><code>check_</code> <br /> <code>listening</code></td>
<td align="left">boolean, <br /> optional, <br /> defaults <br /> to <code>False</code></td>
<td align="left">If <code>True</code> the function will ensure that the service is listening on the expected port and URL. Will raise an error if it cannot connect to the service. May introduce a slight execution delay, depending on network environment.</td>
</tr>
</tbody>
</table>
<h3 id="return-value">Return value:<a class="headerlink" href="#return-value" title="Permanent link">&para;</a></h3>
<p>The function returns a string containing the service URL, including port number</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="debug_jobs.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Debug a pipeline job" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Debug a pipeline job
            </div>
          </div>
        </a>
      
      
        
        <a href="image_jobtype_packages.html" class="md-footer__link md-footer__link--next" aria-label="Next: Images and jobTypes" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Images and jobTypes
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "assets/javascripts/workers/search.22074ed6.min.js"}</script>
    
    
      <script src="assets/javascripts/bundle.960e086b.min.js"></script>
      
    
  </body>
</html>